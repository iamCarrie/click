<%
  const webpPath = typeof path === 'object' ? {
    p:path.p.replace(/.jpg|.png/,'.webp'),
    m:path.m.replace(/.jpg|.png/,'.webp')
  } : path.replace(/.jpg|.png/,'.webp');
-%>
<figure <%- typeof className !== 'undefined' ? `class="${className}"` :'' %>>
  <picture class="w-full h-full">
    <!-- <% if ( typeof path === 'object' ) { -%>
      <source srcset="<%- webpPath.m %>" media="(max-width: 767px)" type="image/webp">
    <% } -%>
    <source srcset="<%- typeof path === 'object' ? webpPath.p : webpPath %>" type="image/webp"> -->
    <% if ( typeof path === 'object' ) { -%>
      <source srcset="<%- path.m %>" media="(max-width: 767px)">
    <% } -%>
    <img src="<%- typeof path === 'object' ? path.p : path %>" alt="<%- alt %>"  <%- typeof lazy !== 'undefined' ? '' : loading="lazy" %> class="w-full h-full" width="100%" height="100%"/>
  </figure>
</picture>